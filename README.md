# üöÄ BotFeature - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç –¥–ª—è Bitget

## üìã –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

**BotFeature** - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞–º–∏ –Ω–∞ –±–∏—Ä–∂–µ Bitget, –∏—Å–ø–æ–ª—å–∑—É—é—â–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≥—Ä–∏–¥-—Ç–æ—Ä–≥–æ–≤–ª–∏ (grid trading) —Å –º–∞—Ä—Ç–∏–Ω–≥–µ–π–ª-—ç—Ñ—Ñ–µ–∫—Ç–æ–º –∏ –ø–ª–µ—á–æ–º 20x.

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- ‚úÖ **Grid Trading** - —Å–µ—Ç–µ–≤–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è —Å 15 —É—Ä–æ–≤–Ω—è–º–∏ –æ—Ä–¥–µ—Ä–æ–≤
- ‚úÖ **–ú–∞—Ä—Ç–∏–Ω–≥–µ–π–ª** - —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –æ–±—ä–µ–º–∞ –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ –Ω–∞ 30%
- ‚úÖ **–ü–ª–µ—á–æ 20x** - –º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏–±—ã–ª–∏ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º —Ä–∏—Å–∫–∞
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç** - –ø—Ä–æ–¥–∞–∂–∞ —Å –ø—Ä–∏–±—ã–ª—å—é 2%
- ‚úÖ **Telegram –±–æ—Ç** - —É–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä
- ‚úÖ **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ Celery
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã

## üí∞ –ß—Ç–æ —Ç–∞–∫–æ–µ deposit_amount –∏ —Ä–∞—Å—á–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤

### deposit_amount - –±–∞–∑–æ–≤—ã–π –¥–µ–ø–æ–∑–∏—Ç –Ω–∞ –æ–¥–Ω—É –º–æ–Ω–µ—Ç—É

```python
# –í main.py —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
deposit_per_coin = 10.0  # USDT –Ω–∞ –∫–∞–∂–¥—É—é –º–æ–Ω–µ—Ç—É
```

### üìä –†–∞—Å—á–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ —Å –ø–ª–µ—á–æ–º 20x

**–í–ê–ñ–ù–û**: `deposit_amount` - —ç—Ç–æ –≤–∞—à –†–ï–ê–õ–¨–ù–´–ô –¥–µ–ø–æ–∑–∏—Ç –≤ USDT, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ –º–∞—Ä–∂–∞.

#### –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞:
- **deposit_amount = 10 USDT** (–≤–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–µ–Ω—å–≥–∏)
- **–ü–ª–µ—á–æ = 20x**
- **–¢–æ—Ä–≥–æ–≤—ã–π –∫–∞–ø–∏—Ç–∞–ª = 10 USDT √ó 20 = 200 USDT** (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏)

#### –î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –º–æ–Ω–µ—Ç—ã CRV/USDT:

```python
# –ü—Ä–∏ deposit_amount = 10 USDT:
–†–µ–∞–ª—å–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç: 10 USDT (–≤–∞—à–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞)
–¢–æ—Ä–≥–æ–≤—ã–π –∫–∞–ø–∏—Ç–∞–ª —Å –ø–ª–µ—á–æ–º: 10 √ó 20 = 200 USDT
–ü–æ–∫—Ä—ã—Ç–∏–µ —Å–µ—Ç–∫–∏: 200 √ó 0.40 = 80 USDT –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Ä–æ–≤–Ω–µ–π: 15 –æ—Ä–¥–µ—Ä–æ–≤
–ú–∞—Ä—Ç–∏–Ω–≥–µ–π–ª: –∫–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π –æ—Ä–¥–µ—Ä –±–æ–ª—å—à–µ –Ω–∞ 30%
```

#### –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –æ—Ä–¥–µ—Ä–æ–≤ –≤ –≥—Ä–∏–¥-—Å–µ—Ç–∫–µ:

```python
def calculate_optimal_base_quantity(deposit_amount, current_price, config):
    # –î–æ—Å—Ç—É–ø–Ω–∞—è —Å—É–º–º–∞ —Å –ø–ª–µ—á–æ–º
    available_amount = deposit_amount * leverage  # 10 * 20 = 200 USDT
    
    # –†–∞—Å—á–µ—Ç –æ–±—â–µ–≥–æ –º–Ω–æ–∂–∏—Ç–µ–ª—è –¥–ª—è –º–∞—Ä—Ç–∏–Ω–≥–µ–π–ª–∞
    # –£—Ä–æ–≤–µ–Ω—å 1: 1.0
    # –£—Ä–æ–≤–µ–Ω—å 2: 1.3
    # –£—Ä–æ–≤–µ–Ω—å 3: 1.69
    # ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–æ 15 —É—Ä–æ–≤–Ω—è
    total_multiplier = —Å—É–º–º–∞_–≤—Å–µ—Ö_–º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä–æ–≤  # ‚âà 142.8
    
    # –ë–∞–∑–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –æ—Ä–¥–µ—Ä–∞
    base_quantity = available_amount / (total_multiplier * current_price)
```

### üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä:

–ü—Ä–∏ —Ü–µ–Ω–µ CRV = $0.50 –∏ deposit_amount = 10 USDT:

```
–†–µ–∞–ª—å–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞: 10 USDT
–¢–æ—Ä–≥–æ–≤—ã–π –æ–±—ä–µ–º: 200 USDT
–ë–∞–∑–æ–≤—ã–π –æ—Ä–¥–µ—Ä: ~0.28 USDT (‚âà 0.56 CRV)
–°–∞–º—ã–π –±–æ–ª—å—à–æ–π –æ—Ä–¥–µ—Ä (15 —É—Ä–æ–≤–µ–Ω—å): ~10.2 USDT (‚âà 20.4 CRV)
–û–±—â–∏–π –æ–±—ä–µ–º –≤—Å–µ—Ö –æ—Ä–¥–µ—Ä–æ–≤: 200 USDT
```

### ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ú–û–ú–ï–ù–¢–´ –ü–û –î–ï–ü–û–ó–ò–¢–£:

1. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç**: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 5 USDT –Ω–∞ –º–æ–Ω–µ—Ç—É
2. **–†–∏—Å–∫ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏**: –ü—Ä–∏ —Å–∏–ª—å–Ω–æ–º –ø–∞–¥–µ–Ω–∏–∏ —Ü–µ–Ω—ã –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 40% –≤–æ–∑–º–æ–∂–Ω–∞ –ª–∏–∫–≤–∏–¥–∞—Ü–∏—è
3. **–°–≤–æ–±–æ–¥–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞**: –î–µ—Ä–∂–∏—Ç–µ –Ω–∞ —Å—á–µ—Ç—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–æ—Å–∞–¥–æ–∫
4. **–†–∞—Å—á–µ—Ç –Ω–∞ –≤—Å–µ –º–æ–Ω–µ—Ç—ã**: –ï—Å–ª–∏ —Ç–æ—Ä–≥—É–µ—Ç–µ 5 –º–æ–Ω–µ—Ç–∞–º–∏ —Å deposit_amount = 10, –Ω—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 50 USDT

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

```
‚îú‚îÄ‚îÄ ü§ñ Telegram Bot (telegram/)
‚îÇ   ‚îú‚îÄ‚îÄ bot.py - –≥–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ handlers/ - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îî‚îÄ‚îÄ keyboards/ - –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ
‚îú‚îÄ‚îÄ üìà Trading Engine (trading/)
‚îÇ   ‚îú‚îÄ‚îÄ grid_builder.py - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–µ—Ç–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ order_tracker.py - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ celery_worker.py - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
‚îÇ
‚îú‚îÄ‚îÄ üîå API Integration (api/)
‚îÇ   ‚îî‚îÄ‚îÄ bybit_api.py - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Bybit API
‚îÇ
‚îú‚îÄ‚îÄ üíæ Database (database/)
‚îÇ   ‚îú‚îÄ‚îÄ connection.py - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ SQLite
‚îÇ   ‚îú‚îÄ‚îÄ repositories/ - —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ schema.sql - —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ
‚îú‚îÄ‚îÄ ‚öôÔ∏è Configuration (config/)
‚îÇ   ‚îú‚îÄ‚îÄ settings.py - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ constants.py - —Ç–æ—Ä–≥–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ
‚îî‚îÄ‚îÄ üõ†Ô∏è Utils (utils/)
    ‚îú‚îÄ‚îÄ encryption.py - —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ API –∫–ª—é—á–µ–π
    ‚îú‚îÄ‚îÄ logger.py - —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
    ‚îî‚îÄ‚îÄ rate_limiter.py - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:
```
1. main.py ‚Üí –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
2. Celery Worker ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –∑–∞–¥–∞—á –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã
3. OrderTracker ‚Üí –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∏–¥-—Å–µ—Ç–∫–∏ –æ—Ä–¥–µ—Ä–æ–≤
4. BybitAPI ‚Üí –†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤ –Ω–∞ –±–∏—Ä–∂–µ
5. Database ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—Ä–¥–µ—Ä–∞—Ö
6. Kafka ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö
7. Telegram Bot ‚Üí –ü–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
```

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Python 3.12+
- Redis server
- SQLite3

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd BotFeauture

# –°–æ–∑–¥–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# Telegram Bot
BOT_TOKEN=your_telegram_bot_token
ADMIN_TELEGRAM_IDS=123456789,987654321
ADMIN_CHAT_ID=your_chat_id

# Bybit API (–ø–æ–ª—É—á–∏—Ç—å –Ω–∞ https://www.bybit.com/app/user/api-management)
TRADER_API_KEY=your_api_key
TRADER_API_SECRET=your_api_secret

# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
python generate_encryption_key.py
# –ö–æ–ø–∏—Ä—É–µ–º —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á –≤ .env:
ENCRYPTION_KEY=your_generated_encryption_key

# Redis (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# Kafka (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
KAFKA_SERVERS=localhost:9092
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

–í —Ñ–∞–π–ª–µ `config/constants.py`:

```python
# –¢–æ—Ä–≥–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
GRID_COVERAGE_PERCENT: float = 0.40    # –ü–æ–∫—Ä—ã—Ç–∏–µ 40% –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã
GRID_LEVELS: int = 15                   # 15 –æ—Ä–¥–µ—Ä–æ–≤ –≤ —Å–µ—Ç–∫–µ
MARTINGALE_MULTIPLIER: float = 1.30     # –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–∞ 30% –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å
TAKE_PROFIT_PERCENT: float = 0.02       # –¢–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç 2%
LEVERAGE: int = 20                      # –ü–ª–µ—á–æ 20x
MARGIN_MODE: str = "cross"              # –ö—Ä–æ—Å—Å-–º–∞—Ä–∂–∞

# –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
CHECK_DELAY: float = 2.0                # –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ä–¥–µ—Ä–æ–≤ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫
RESTART_DELAY: int = 60                 # –ü–∞—É–∑–∞ 60 —Å–µ–∫ –ø–æ—Å–ª–µ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞

# –¢–æ—Ä–≥—É–µ–º—ã–µ –º–æ–Ω–µ—Ç—ã
COINS = [
    "CRV/USDT:USDT",
    # –î–æ–±–∞–≤—å—Ç–µ –¥—Ä—É–≥–∏–µ –º–æ–Ω–µ—Ç—ã –ø–æ –∂–µ–ª–∞–Ω–∏—é
    # "ARB/USDT:USDT",
    # "OP/USDT:USDT",
]
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–µ–ø–æ–∑–∏—Ç–∞:

–í —Ñ–∞–π–ª–µ `main.py`:

```python
def start_trading() -> None:
    # –£–∫–∞–∑—ã–≤–∞–µ–º –¥–µ–ø–æ–∑–∏—Ç –Ω–∞ –∫–∞–∂–¥—É—é –º–æ–Ω–µ—Ç—É –≤ USDT
    deposit_per_coin = 10.0  # –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ –∂–µ–ª–∞–µ–º—É—é —Å—É–º–º—É
    
    start_master_trading.delay(
        api_key=settings.TRADER_API_KEY,
        api_secret=settings.TRADER_API_SECRET, 
        deposit_per_coin=deposit_per_coin
    )
```

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –°–ø–æ—Å–æ–± 1: –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–±–æ—Ç + —Ç–æ—Ä–≥–æ–≤–ª—è)

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Redis server
redis-server

# 2. –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ Celery worker
celery -A trading.celery_worker worker --loglevel=info

# 3. –í —Ç—Ä–µ—Ç—å–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É
python main.py
```

### –°–ø–æ—Å–æ–± 2: –¢–æ–ª—å–∫–æ —Ç–æ—Ä–≥–æ–≤–ª—è (–±–µ–∑ Telegram –±–æ—Ç–∞)

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Redis server
redis-server

# 2. –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ Celery worker  
celery -A trading.celery_worker worker --loglevel=info

# 3. –í —Ç—Ä–µ—Ç—å–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–æ—Ä–≥–æ–≤–ª—é
python run_trading_only.py
```

### –°–ø–æ—Å–æ–± 3: Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production)

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ Docker Compose
docker-compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã
docker-compose down
```

## üìä –¢–æ—Ä–≥–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

### Grid Trading —Å –º–∞—Ä—Ç–∏–Ω–≥–µ–π–ª–æ–º:

1. **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–µ—Ç–∫–∏**: –°–æ–∑–¥–∞–µ—Ç—Å—è 15 –æ—Ä–¥–µ—Ä–æ–≤ –Ω–∞ –ø–æ–∫—É–ø–∫—É –Ω–∏–∂–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã
2. **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–Ω**: –û—Ä–¥–µ—Ä–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 40% –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã
3. **–ú–∞—Ä—Ç–∏–Ω–≥–µ–π–ª**: –ö–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π –æ—Ä–¥–µ—Ä –±–æ–ª—å—à–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –Ω–∞ 30%
4. **–ü–µ—Ä–≤—ã–π –æ—Ä–¥–µ—Ä**: –ü–æ–∫—É–ø–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–µ (–µ—Å–ª–∏ `MARKET_ENTRY = True`)
5. **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ**: –ö–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –æ—Ä–¥–µ—Ä–æ–≤
6. **–¢–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç**: –ü—Ä–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ –æ—Ä–¥–µ—Ä–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ—Ä–¥–µ—Ä –Ω–∞ –ø—Ä–æ–¥–∞–∂—É —Å –ø—Ä–∏–±—ã–ª—å—é 2%
7. **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫**: –ü–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –∂–¥–µ—Ç 60 —Å–µ–∫—É–Ω–¥ –∏ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Å–µ—Ç–∫—É

### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:

```
–¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ CRV: $0.50
–î–µ–ø–æ–∑–∏—Ç: 10 USDT (200 USDT —Å –ø–ª–µ—á–æ–º 20x)

–ì—Ä–∏–¥-—Å–µ—Ç–∫–∞:
‚îú‚îÄ‚îÄ Market: $0.50 - 0.56 CRV (~0.28 USDT)
‚îú‚îÄ‚îÄ Level 1: $0.487 - 0.75 CRV (~0.36 USDT) 
‚îú‚îÄ‚îÄ Level 2: $0.475 - 0.97 CRV (~0.46 USDT)
‚îú‚îÄ‚îÄ Level 3: $0.462 - 1.26 CRV (~0.58 USDT)
‚îú‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ Level 14: $0.300 - 68.0 CRV (~20.4 USDT)

–ü—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Ü–µ–Ω—ã –¥–æ $0.450:
‚úÖ –ò—Å–ø–æ–ª–Ω–∏—Ç—Å—è Level 1 –∏ Level 2
‚úÖ –°–æ–∑–¥–∞—Å—Ç—Å—è —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –Ω–∞ –ø—Ä–æ–¥–∞–∂—É 1.72 CRV –ø–æ —Ü–µ–Ω–µ $0.459 (+2%)
‚úÖ –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞ = –ø—Ä–∏–±—ã–ª—å ~1.54%
‚úÖ –ß–µ—Ä–µ–∑ 60 —Å–µ–∫—É–Ω–¥ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è —Å–µ—Ç–∫–∞
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫:

#### `config/settings.py`:
- API –∫–ª—é—á–∏ –∏ —Å–µ–∫—Ä–µ—Ç—ã
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
- –õ–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Redis –∏ Celery

#### `config/constants.py`:
- –¢–æ—Ä–≥–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- –°–ø–∏—Å–æ–∫ —Ç–æ—Ä–≥—É–µ–º—ã—Ö –º–æ–Ω–µ—Ç
- –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –ø—Ä–æ–≤–µ—Ä–æ–∫

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

```python
# –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ API –∫–ª—é—á–µ–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
from utils.encryption import encrypt_data, decrypt_data

# –ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
encrypted_key = encrypt_data("your_api_key")

# –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ  
decrypted_key = decrypt_data(encrypted_key)
```

## üìÅ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü:

#### `users` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã:
```sql
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    telegram_id INTEGER UNIQUE NOT NULL,
    username TEXT,
    api_key_encrypted TEXT,        -- –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π API –∫–ª—é—á
    api_secret_encrypted TEXT,     -- –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π API —Å–µ–∫—Ä–µ—Ç
    deposit_amount DECIMAL(10,2),  -- –†–∞–∑–º–µ—Ä –¥–µ–ø–æ–∑–∏—Ç–∞
    status TEXT DEFAULT 'pending', -- –°—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

#### `limit_orders` - –õ–∏–º–∏—Ç–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞:
```sql
CREATE TABLE limit_orders (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    symbol TEXT NOT NULL,              -- –¢–æ—Ä–≥–æ–≤–∞—è –ø–∞—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, CRV/USDT:USDT)
    order_id TEXT UNIQUE NOT NULL,     -- ID –æ—Ä–¥–µ—Ä–∞ –Ω–∞ –±–∏—Ä–∂–µ
    price DECIMAL(18,8) NOT NULL,      -- –¶–µ–Ω–∞ –æ—Ä–¥–µ—Ä–∞
    quantity DECIMAL(18,8) NOT NULL,   -- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
    filled_quantity DECIMAL(18,8),     -- –ò—Å–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
    status TEXT DEFAULT 'pending',     -- –°—Ç–∞—Ç—É—Å: pending/filled/cancelled
    grid_level INTEGER,                -- –£—Ä–æ–≤–µ–Ω—å –≤ —Å–µ—Ç–∫–µ (0-14)
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    filled_at DATETIME                 -- –í—Ä–µ–º—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
);
```

#### `take_profit_orders` - –¢–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –æ—Ä–¥–µ—Ä–∞:
```sql
CREATE TABLE take_profit_orders (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    symbol TEXT NOT NULL,
    order_id TEXT UNIQUE NOT NULL,
    price DECIMAL(18,8) NOT NULL,      -- –¶–µ–Ω–∞ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞ (+2% –æ—Ç —Å—Ä–µ–¥–Ω–µ–π)
    quantity DECIMAL(18,8) NOT NULL,   -- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫ –ø—Ä–æ–¥–∞–∂–µ
    status TEXT DEFAULT 'pending',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    filled_at DATETIME
);
```

## üîå API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### Bybit API:

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É `ccxt` –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∏—Ä–∂–µ–π Bybit:

```python
class BybitAPI:
    def __init__(self, api_key, api_secret):
        self.exchange = ccxt.bybit({
            'apiKey': api_key,
            'secret': api_secret,
            'sandbox': False,
            'enableRateLimit': True,
            'options': {
                'defaultType': 'swap',  # –§—å—é—á–µ—Ä—Å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è
            }
        })
```

### –û—Å–Ω–æ–≤–Ω—ã–µ API –º–µ—Ç–æ–¥—ã:

- `get_ticker_price()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã
- `create_market_order()` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞
- `create_limit_order()` - —Å–æ–∑–¥–∞–Ω–∏–µ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞
- `fetch_order()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—Ä–¥–µ—Ä–µ
- `cancel_order()` - –æ—Ç–º–µ–Ω–∞ –æ—Ä–¥–µ—Ä–∞
- `set_leverage()` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–µ—á–∞
- `get_account_balance()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞

### Rate Limiting:

–°–∏—Å—Ç–µ–º–∞ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∑–∞—â–∏—Ç—É –æ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ API:

```python
class RateLimiter:
    def __init__(self):
        self.max_requests = 100      # –ú–∞–∫—Å–∏–º—É–º –∑–∞–ø—Ä–æ—Å–æ–≤
        self.window = 60             # –ó–∞ 60 —Å–µ–∫—É–Ω–¥
        self.max_concurrent = 5      # –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
```

## üì± Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞:

- üìä –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏
- üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- üìà –ü–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Å–¥–µ–ª–∫–∞—Ö
- ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:

```python
# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Kafka
async def _send_order_notification(order):
    message = {
        'symbol': order.symbol,
        'order_id': order.order_id,
        'side': order.side,
        'price': order.price,
        'quantity': order.quantity
    }
    await kafka_producer.send('trading_notifications', message)
```

## üîÑ Celery –∑–∞–¥–∞—á–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞–¥–∞—á:

```
start_master_trading
‚îú‚îÄ‚îÄ start_symbol_trading (–¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã)
‚îÇ   ‚îú‚îÄ‚îÄ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∏–¥-—Å–µ—Ç–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ –†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ track_symbol_continuously
‚îÇ       ‚îú‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ä–¥–µ—Ä–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞
‚îÇ       ‚îî‚îÄ‚îÄ restart_symbol_after_delay (–ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ –¢–ü)
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–¥–∞—á:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
celery -A trading.celery_worker inspect active

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–æ—Ä–∫–µ—Ä–æ–≤
celery -A trading.celery_worker inspect stats

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–¥–∞—á —Ç–æ—Ä–≥–æ–≤–ª–∏
celery -A trading.celery_worker call stop_all_trading
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

```python
# –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)

# –ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤:
üöÄ –ó–∞–ø—É—Å–∫ —Ç–æ—Ä–≥–æ–≤–ª–∏ –¥–ª—è CRV/USDT:USDT
‚úÖ –†–∞–∑–º–µ—â–µ–Ω –æ—Ä–¥–µ—Ä limit_123 buy 1.5 CRV/USDT:USDT @ 0.487
üéØ –û–±–Ω–æ–≤–ª–µ–Ω —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç CRV/USDT:USDT: 0.499 x 2.3
üîÑ –ü–ª–∞–Ω–∏—Ä—É–µ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ CRV/USDT:USDT —á–µ—Ä–µ–∑ 60 —Å–µ–∫
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

- **Redis**: –•—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á
- **SQLite**: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
- **Rate Limiting**: –ö–æ–Ω—Ç—Ä–æ–ª—å —á–∞—Å—Ç–æ—Ç—ã API –∑–∞–ø—Ä–æ—Å–æ–≤
- **Health Checks**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∏—Å–∫–∏:

1. **–†–∏—Å–∫ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏**: –ü—Ä–∏ —Ä–µ–∑–∫–æ–º –ø–∞–¥–µ–Ω–∏–∏ > 40% –≤–æ–∑–º–æ–∂–Ω–∞ –ª–∏–∫–≤–∏–¥–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–∏
2. **–ë–æ–∫–æ–≤–æ–π —Ç—Ä–µ–Ω–¥**: –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ –≤ –±–æ–∫–æ–≤–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏
3. **–°–∏–ª—å–Ω—ã–π –Ω–∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–µ–Ω–¥**: –ú–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –±–æ–ª—å—à–∏–º –ø—Ä–æ—Å–∞–¥–∫–∞–º
4. **API –ª–∏–º–∏—Ç—ã**: –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

1. **–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –º–∞–ª—ã—Ö —Å—É–º–º** - —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –¥–µ–ø–æ–∑–∏—Ç–∞—Ö
2. **–î–∏–≤–µ—Ä—Å–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ —Ä–∏—Å–∫–∏** - —Ç–æ—Ä–≥—É–π—Ç–µ —Ä–∞–∑–Ω—ã–º–∏ –º–æ–Ω–µ—Ç–∞–º–∏
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä—ã–Ω–æ–∫** - —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –Ω–æ–≤–æ—Å—Ç—è–º–∏ –∏ —Ç—Ä–µ–Ω–¥–∞–º–∏
4. **–î–µ—Ä–∂–∏—Ç–µ —Ä–µ–∑–µ—Ä–≤** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ —Å—á–µ—Ç—É –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –ø—Ä–æ—Å–∞–¥–æ–∫
5. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ** - –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã
6. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–æ–ø-–ª–æ—Å—Å—ã** - —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞—â–∏—Ç–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π —Ä–∏—Å–∫–∞:

#### üî¥ –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ / –í—ã—Å–æ–∫–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å:
```python
GRID_COVERAGE_PERCENT = 0.50    # –ü–æ–∫—Ä—ã—Ç–∏–µ 50%
LEVERAGE = 20                   # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–ª–µ—á–æ
TAKE_PROFIT_PERCENT = 0.015     # –¢–ü 1.5%
deposit_per_coin = 5.0          # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç
```

#### üü° –°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫ / –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π:
```python
GRID_COVERAGE_PERCENT = 0.40    # –ü–æ–∫—Ä—ã—Ç–∏–µ 40% (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
LEVERAGE = 15                   # –£–º–µ—Ä–µ–Ω–Ω–æ–µ –ø–ª–µ—á–æ
TAKE_PROFIT_PERCENT = 0.02      # –¢–ü 2%  
deposit_per_coin = 10.0         # –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –¥–µ–ø–æ–∑–∏—Ç
```

#### üü¢ –ù–∏–∑–∫–∏–π —Ä–∏—Å–∫ / –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π:
```python
GRID_COVERAGE_PERCENT = 0.30    # –ü–æ–∫—Ä—ã—Ç–∏–µ 30%
LEVERAGE = 10                   # –ù–∏–∑–∫–æ–µ –ø–ª–µ—á–æ
TAKE_PROFIT_PERCENT = 0.025     # –¢–ü 2.5%
deposit_per_coin = 20.0         # –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–æ–Ω–µ—Ç:

–í —Ñ–∞–π–ª–µ `config/constants.py`:
```python
COINS = [
    "CRV/USDT:USDT",
    "ARB/USDT:USDT",     # –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –º–æ–Ω–µ—Ç—É
    "OP/USDT:USDT",      # –ï—â–µ –æ–¥–Ω—É –º–æ–Ω–µ—Ç—É
    # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –Ω–∞ Bitget
]
```

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:

–°–æ–∑–¥–∞–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
```python
custom_config = TradingConfig(
    leverage=25,                    # –°–≤–æ–µ –ø–ª–µ—á–æ
    grid_levels=20,                # –ë–æ–ª—å—à–µ —É—Ä–æ–≤–Ω–µ–π
    martingale_multiplier=1.2,     # –ú–µ–Ω—å—à–∏–π –º–∞—Ä—Ç–∏–Ω–≥–µ–π–ª
    coverage_percent=0.6,          # –ë–æ–ª—å—à–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω
    take_profit_percent=0.015      # –ú–µ–Ω—å—à–∏–π –¢–ü
)
```

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:

1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤** - –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
2. **–£–º–Ω—ã–µ —Å—Ç–æ–ø-–ª–æ—Å—Å—ã** - –∑–∞—â–∏—Ç–∞ –æ—Ç –±–æ–ª—å—à–∏—Ö –ø—Ä–æ—Å–∞–¥–æ–∫  
3. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
4. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏** - —Ä–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–æ–Ω–µ—Ç
5. **–ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã

### –í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** - –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á–∏** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å** - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ —Å—á–µ—Ç—É
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** - –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Redis –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Redis
redis-cli ping

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á Celery
celery -A trading.celery_worker inspect active

# –¢–µ—Å—Ç API —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
python -c "from api.bybit_api import BybitAPI; import asyncio; api = BybitAPI('key', 'secret'); print(asyncio.run(api.test_connection()))"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
sqlite3 database.db ".tables"
```

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**BotFeature** - —ç—Ç–æ –º–æ—â–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Ä–∏—Å–∫–∞–º–∏ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–æ—Å–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—É—é –ø—Ä–∏–±—ã–ª—å. –ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ —Ç–æ—Ä–≥–æ–≤–ª—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞–º–∏ –≤—Å–µ–≥–¥–∞ —Å–≤—è–∑–∞–Ω–∞ —Å —Ä–∏—Å–∫–∞–º–∏, –ø–æ—ç—Ç–æ–º—É:

- üìö **–ò–∑—É—á–∞–π—Ç–µ —Ä—ã–Ω–æ–∫** –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ç–æ—Ä–≥–æ–≤–ª–∏
- üí∞ **–ù–µ –∏–Ω–≤–µ—Å—Ç–∏—Ä—É–π—Ç–µ –±–æ–ª—å—à–µ**, —á–µ–º –º–æ–∂–µ—Ç–µ –ø–æ–∑–≤–æ–ª–∏—Ç—å —Å–µ–±–µ –ø–æ—Ç–µ—Ä—è—Ç—å  
- üìä **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –¥–µ–º–æ-—Å—á–µ—Ç–µ** –∏–ª–∏ –º–∞–ª—ã—Ö —Å—É–º–º–∞—Ö
- üîÑ **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ –º–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ** —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã
- üìà **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

–£–¥–∞—á–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏! üöÄ

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞: –Ø–Ω–≤–∞—Ä—å 2024*
*–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞: 1.0.0*
*Python –≤–µ—Ä—Å–∏—è: 3.12+*
